<?xml version="1.0"?>
<PagePortable xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Title>Exclusão de previsões financeiras - Entrada de nota fiscal</Title>
  <Url>~/aga/a/materiais/entradaDeNotaFiscal/ExclusaoPrevisoesFinanceiras.aspx</Url>
  <AutoGenerated>true</AutoGenerated>
  <EntityPermissionId />
  <TemplateId />
  <Details />
  <Id>AGA_A_MATERIAIS_ENTRADADENOTAFISCAL_EXCLUSAOPREVISOESFINANCEIRAS</Id>
  <Level>Benner</Level>
  <CodeFile />
  <CodeInherits>Benner.Corporativo.Wes.WebApp.aga.a.materiais.entradaDeNotaFiscal.ExclusaoPrevisoesFinanceiras</CodeInherits>
  <Widgets>
    <PageWidgetPortable>
      <Id>PAINEL_EXCLUSAO_PREVISOES</Id>
      <Title>Painel exclusão previsões financeiras</Title>
      <Order>5</Order>
      <ShowTitle>false</ShowTitle>
      <PortletCssClass />
      <FontIcon />
      <Subtitle />
      <ChromeState>Normal</ChromeState>
      <PortletLayout>Default</PortletLayout>
      <WidgetTypeId>AjaxForm</WidgetTypeId>
      <BootstrapCols>12</BootstrapCols>
      <XmlAttributes><![CDATA[<AjaxFormAttributes>
  <CanDelete>false</CanDelete>
  <CanUpdate>false</CanUpdate>
  <CanInsert>true</CanInsert>
  <EntityViewName>PD_VTENTRADANOTAFISCAL.EXCLUSAO_PREVISOES_FINANCEIRAS.FORM</EntityViewName>
  <FormMode>0</FormMode>
  <IncludeRecordInRecentItems>false</IncludeRecordInRecentItems>
  <UserDefinedCriteriaWhereClause>A.FORNECEDOR = 98 AND A.NUMERONOTAFISCAL = 4321 AND A.VALORLIQUIDOFISCAL = 30</UserDefinedCriteriaWhereClause>
  <UserDefinedCommandsVisible>false</UserDefinedCommandsVisible>
</AjaxFormAttributes>
]]></XmlAttributes>
      <Level>Benner</Level>
    </PageWidgetPortable>
    <PageWidgetPortable>
      <Id>PREVISOES</Id>
      <Title>Previsões financeiras</Title>
      <Order>10</Order>
      <ShowTitle>true</ShowTitle>
      <PortletCssClass />
      <FontIcon />
      <Subtitle>Abaixo, previsões financeiras manuais cadastradas para o fornecedor. Selecione para excluir.</Subtitle>
      <ChromeState>Fixed</ChromeState>
      <PortletLayout>Default</PortletLayout>
      <WidgetTypeId>SimpleGrid</WidgetTypeId>
      <BootstrapCols>12</BootstrapCols>
      <XmlAttributes><![CDATA[<SimpleGridAttributes>
  <CanDelete>false</CanDelete>
  <CanUpdate>false</CanUpdate>
  <CanInsert>false</CanInsert>
  <EntityViewName>FN_PARCELAS.EXCLUIR_PREVISOES_NOTA_FISCAL.GRID</EntityViewName>
  <Mode>5</Mode>
  <UserDefinedSelectColumnVisible>true</UserDefinedSelectColumnVisible>
  <UserDefinedPageSize>10</UserDefinedPageSize>
  <SystemFilterOnly>false</SystemFilterOnly>
  <DisplayRowCommand>false</DisplayRowCommand>
  <CompanyFilterMode>1</CompanyFilterMode>
  <ShowExport>false</ShowExport>
  <UserDefinedDisableRowSelection>true</UserDefinedDisableRowSelection>
</SimpleGridAttributes>
]]></XmlAttributes>
      <Level>Benner</Level>
    </PageWidgetPortable>
  </Widgets>
  <Resources>
    <PageResourcePortable>
      <Id>DCAC9A48C95A4B5EBCF38EA90278431B</Id>
      <ResourceType>JavaScript</ResourceType>
      <Content><![CDATA[const AssociarEventoSelecao = () => $('input[type="checkbox"]').on('click', () => Benner.Page.PREVISOES.command("ProcessarSelecao"));

const SetarValoresTiles = () => {
    var jsonValoresTiles = JSON.parse($("#JsonValoresTiles").val());

	$("#tileTotalPrevisoesSelecionadas .details .number").text(jsonValoresTiles.TotalPrevisoesSelecionadas);
	$("#tileDiferencaTotalSelecionadoNf .details .number").text(jsonValoresTiles.DiferencaTotalSelecionado);
	$("#tileTotalPrevisoesDisponiveis .details .number").text(jsonValoresTiles.TotalPrevisoesDisponiveis);
	$("#tileValorTotalNf .details .number").text(jsonValoresTiles.TotalNotaFiscal);
	
	var classeCorRemover = jsonValoresTiles.ValorDivergente ? "green-jungle" : "red";
    var classeCorAdicionar = jsonValoresTiles.ValorDivergente ? "red" : "green-jungle";
	$("#tileDiferencaTotalSelecionadoNf .dashboard-stat").toggleClass(classeCorRemover, false);
	$("#tileDiferencaTotalSelecionadoNf .dashboard-stat").toggleClass(classeCorAdicionar, true);
};

$(() => {
    var pagina = Sys.WebForms.PageRequestManager.getInstance();
    
    if (!pagina.get_isInAsyncPostBack()) {
        pagina.add_endRequest(AssociarEventoSelecao);
        pagina.add_endRequest(SetarValoresTiles);
    }
    
    AssociarEventoSelecao();
    SetarValoresTiles();
});
]]></Content>
      <Level>Benner</Level>
    </PageResourcePortable>
  </Resources>
</PagePortable>