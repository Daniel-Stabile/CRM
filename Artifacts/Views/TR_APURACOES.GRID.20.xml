<?xml version="1.0"?>
<ViewPortable xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Name>TR_APURACOES.GRID</Name>
  <Level>Benner</Level>
  <EntityName>TR_APURACOES</EntityName>
  <Type>Grid</Type>
  <Version>10</Version>
  <GridDefinition entityDefinitionName="TR_APURACOES" name="TR_APURACOES.GRID" title="TR_APURACOES" inherited="true">
    <IsContextCached>false</IsContextCached>
    <Fields />
    <RecordReadOnly>false</RecordReadOnly>
    <TableReadOnly>false</TableReadOnly>
    <TransitoryVars />
    <BehaveAsUnstructuredGrid>false</BehaveAsUnstructuredGrid>
    <FieldDefinitions>
      <GridFieldDefinition xsi:type="GridFieldPathDefinition" title="Filial" key="FILIALNOME">
        <visible>false</visible>
        <DataAccessLevel>Read</DataAccessLevel>
        <Required>false</Required>
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>ToScript</visibility>
        <Path>FILIAL&gt;FILIAIS.NOME</Path>
        <SystemInstanceName>CORP.05.17.LEGAL.00</SystemInstanceName>
      </GridFieldDefinition>
      <GridFieldDefinition xsi:type="GridFieldSqlDefinition" title="Filial" key="SQL_FILIAL">
        <visible>true</visible>
        <DataAccessLevel>Read</DataAccessLevel>
        <Required>false</Required>
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width>6cm</Width>
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
        <Expression>SELECT FILIAL.NOME FROM TR_APURACOES APURACAO JOIN FILIAIS FILIAL ON FILIAL.HANDLE = APURACAO.FILIAL WHERE APURACAO.HANDLE = @CAMPO(HANDLE)</Expression>
        <FieldType>None</FieldType>
        <SystemInstanceName>CORP.05.17.LEGAL.00</SystemInstanceName>
      </GridFieldDefinition>
      <GridFieldDefinition xsi:type="GridFieldPathDefinition" title="Imposto" key="IMPOSTONOME">
        <visible>true</visible>
        <DataAccessLevel>Read</DataAccessLevel>
        <Required>false</Required>
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
        <Path>IMPOSTO&gt;TR_IMPOSTOS.SIGLA</Path>
        <SystemInstanceName>CORP.05.17.LEGAL.00</SystemInstanceName>
      </GridFieldDefinition>
      <GridFieldDefinition key="PERIODO">
        <visible>false</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>ToScript</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition title="Competência" key="MES" inherited="true">
        <visible xsi:nil="true" />
        <DataAccessLevel xsi:nil="true" />
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility xsi:nil="true" />
      </GridFieldDefinition>
      <GridFieldDefinition key="VENCIMENTO">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition title="Código receita" key="CODIGORECEITA">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition key="IMPOSTORECOLHER">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition title="Saldo credor mês anterior" key="SALDOANTERIOR">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width>3cm</Width>
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition xsi:type="GridFieldSqlDefinition" title="Saldo credor mês atual" key="SALDOCREDORMESATUAL">
        <visible>true</visible>
        <DataAccessLevel>Read</DataAccessLevel>
        <Required>false</Required>
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width>3cm</Width>
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
        <Expression>SELECT CASE WHEN (CREDITOS+TTRUBRICACRE+VALORAJUSTESCREDITOSDOC+VALORDEDUCOESDOC)+(SALDOANTERIOR)-(DEBITOS+TTRUBRICADEV+VALORAJUSTESDEBITOSDOC) &lt; 0 THEN 0 ELSE (CREDITOS+TTRUBRICACRE+VALORAJUSTESCREDITOSDOC+VALORDEDUCOESDOC)+(SALDOANTERIOR)-(DEBITOS+TTRUBRICADEV+VALORAJUSTESDEBITOSDOC) END FROM TR_APURACOES WHERE HANDLE = @CAMPO(HANDLE)</Expression>
        <FieldType>Currency</FieldType>
        <SystemInstanceName>CORP.05.17.LEGAL.00</SystemInstanceName>
      </GridFieldDefinition>
      <GridFieldDefinition title="Valor do imposto" key="VALORIMPOSTO">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition xsi:type="GridAssociationFieldDefinition" key="EMPRESA" inherited="true">
        <visible xsi:nil="true" />
        <DataAccessLevel xsi:nil="true" />
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility xsi:nil="true" />
        <CustomLookupPageUrl>
          <Key />
          <Value />
        </CustomLookupPageUrl>
      </GridFieldDefinition>
      <GridFieldDefinition key="ANO" inherited="true">
        <visible>false</visible>
        <DataAccessLevel xsi:nil="true" />
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>ToScript</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition title="Base do imposto" key="BASEIMPOSTO">
        <visible>false</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>ToScript</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition key="CREDITOS">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition title="Débitos" key="DEBITOS">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition title="Rubricas devedoras" key="TTRUBRICADEV">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition title="Rúbricas credoras" key="TTRUBRICACRE">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition title="Total dos incentivos" key="VALORINCENTIVO">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition key="VALORAJUSTESDEBITOSDOC">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width>4cm</Width>
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition key="VALORAJUSTESCREDITOSDOC">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width>4cm</Width>
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition key="VALORDEDUCOESDOC">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition title="Débitos especiais" key="VALOREXTEMPORANEO">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
    </FieldDefinitions>
    <SubstituteViewName xsi:nil="true" />
    <SortFields>
      <SortField key="MES">
        <Sort>Ascending</Sort>
      </SortField>
      <SortField key="FILIAL">
        <Sort>Ascending</Sort>
      </SortField>
    </SortFields>
    <Commands>
      <Command title="" key="New" inherited="true">
        <visible xsi:nil="true" />
        <showModal xsi:nil="true" />
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable xsi:nil="true" />
        <runInEditMode xsi:nil="true" />
        <context xsi:nil="true" />
      </Command>
      <Command title="" key="Edit" inherited="true">
        <visible xsi:nil="true" />
        <showModal xsi:nil="true" />
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable xsi:nil="true" />
        <runInEditMode xsi:nil="true" />
        <context xsi:nil="true" />
      </Command>
      <Command title="" key="Save" inherited="true">
        <visible xsi:nil="true" />
        <showModal xsi:nil="true" />
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable xsi:nil="true" />
        <runInEditMode xsi:nil="true" />
        <context xsi:nil="true" />
      </Command>
      <Command title="" key="SaveNew" inherited="true">
        <visible xsi:nil="true" />
        <showModal xsi:nil="true" />
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable xsi:nil="true" />
        <runInEditMode xsi:nil="true" />
        <context xsi:nil="true" />
      </Command>
      <Command title="" key="Cancel" inherited="true">
        <visible xsi:nil="true" />
        <showModal xsi:nil="true" />
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable xsi:nil="true" />
        <runInEditMode xsi:nil="true" />
        <context xsi:nil="true" />
      </Command>
      <Command title="" key="Delete" inherited="true">
        <visible xsi:nil="true" />
        <showModal xsi:nil="true" />
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable xsi:nil="true" />
        <runInEditMode xsi:nil="true" />
        <context xsi:nil="true" />
      </Command>
      <Command title="" key="View" inherited="true">
        <visible xsi:nil="true" />
        <showModal xsi:nil="true" />
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable xsi:nil="true" />
        <runInEditMode xsi:nil="true" />
        <context xsi:nil="true" />
      </Command>
      <Command title="Apurar" image="fa fa-check" color="btn-primary" key="CMD_APURAR">
        <visible>true</visible>
        <showModal>false</showModal>
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable>false</showInAllLevelsStructuredTable>
        <runInEditMode xsi:nil="true" />
        <context>Table</context>
        <ProcessDefinition />
        <OutputDefinition xsi:type="LocalLinkDefinition">
          <Url />
          <IsModalPage>false</IsModalPage>
          <IsModalNavigation>false</IsModalNavigation>
        </OutputDefinition>
      </Command>
      <Command title="Excluir" image="fa fa-times" color="red" key="CMD_EXCLUIR">
        <visible>true</visible>
        <showModal>false</showModal>
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable>false</showInAllLevelsStructuredTable>
        <runInEditMode xsi:nil="true" />
        <context>Table</context>
        <ProcessDefinition />
        <OutputDefinition xsi:type="LocalLinkDefinition">
          <Url />
          <IsModalPage>false</IsModalPage>
          <IsModalNavigation>false</IsModalNavigation>
        </OutputDefinition>
      </Command>
      <Command xsi:type="CommandGroup" title="Outras opções" key="GRP_OUTRASOPCOES">
        <visible>true</visible>
        <showModal>false</showModal>
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable>false</showInAllLevelsStructuredTable>
        <runInEditMode xsi:nil="true" />
        <context>Table</context>
        <ProcessDefinition />
        <OutputDefinition xsi:type="LocalLinkDefinition">
          <Url />
          <IsModalPage>false</IsModalPage>
          <IsModalNavigation>false</IsModalNavigation>
        </OutputDefinition>
        <Items>
          <Command title="Demonstrativo Crédito Presumido" key="CMD_DEMONSTRATIVOCREDITOPRESUMIDO">
            <visible>true</visible>
            <showModal>true</showModal>
            <modalSize>Large</modalSize>
            <showInAllLevelsStructuredTable>false</showInAllLevelsStructuredTable>
            <runInEditMode xsi:nil="true" />
            <context>Record</context>
            <ProcessDefinition />
            <OutputDefinition xsi:type="FormLinkDefinition">
              <Url>~/aga/a/tributos/apuracoes/DemonstrativoCreditoPresumido.aspx</Url>
              <IsModalPage>false</IsModalPage>
              <IsModalNavigation>false</IsModalNavigation>
              <WhereClause>
                <Where>(A.HANDLE = @CAMPO(HANDLE))</Where>
                <Parameters />
              </WhereClause>
              <SystemInstanceName>CORP.05.17.LEGAL.00</SystemInstanceName>
              <TargetEntityDefinitionName>TR_APURACOES</TargetEntityDefinitionName>
              <TargetSystemInstanceName>CORP.05.17.LEGAL.00</TargetSystemInstanceName>
              <WhereClauseParameters />
              <ParentEntityHandle>
                <NullableValue xsi:nil="true" />
              </ParentEntityHandle>
              <Criteria>
                <StartRowIndex>0</StartRowIndex>
                <MaximumRows>0</MaximumRows>
                <SortExpression />
                <GroupExpression />
                <Where />
                <LookupResultBehavior>Default</LookupResultBehavior>
                <CompanyFilterMode>CompanyAndBranch</CompanyFilterMode>
                <Parameters />
                <AutoGenerateParameters>false</AutoGenerateParameters>
              </Criteria>
              <GridEntityViewName />
              <TargetEntityHandle>
                <NullableValue xsi:nil="true" />
              </TargetEntityHandle>
              <TargetFormMode>View</TargetFormMode>
              <IsStructuredTable>false</IsStructuredTable>
              <StructuredFieldName />
              <StructuredTableParentNode />
              <UseTargetDefinitionName>false</UseTargetDefinitionName>
            </OutputDefinition>
          </Command>
          <Command title="Contabilizar" key="CMD_CONTABILIZAR">
            <visible>false</visible>
            <showModal>false</showModal>
            <modalSize xsi:nil="true" />
            <showInAllLevelsStructuredTable>false</showInAllLevelsStructuredTable>
            <runInEditMode xsi:nil="true" />
            <context>Table</context>
            <ProcessDefinition />
            <OutputDefinition xsi:type="LocalLinkDefinition">
              <Url />
              <IsModalPage>false</IsModalPage>
              <IsModalNavigation>false</IsModalNavigation>
            </OutputDefinition>
          </Command>
          <Command title="Débitos especiais" key="CMD_DEBITOSESPECIAIS">
            <visible>true</visible>
            <showModal>true</showModal>
            <modalSize>Large</modalSize>
            <showInAllLevelsStructuredTable>false</showInAllLevelsStructuredTable>
            <runInEditMode xsi:nil="true" />
            <context>Record</context>
            <ProcessDefinition />
            <OutputDefinition xsi:type="FormLinkDefinition">
              <Url>~/aga/a/tributos/apuracoes/DebitosEspeciais.aspx</Url>
              <IsModalPage>false</IsModalPage>
              <IsModalNavigation>false</IsModalNavigation>
              <WhereClause>
                <Where>(A.APURACAO = @CAMPO(HANDLE))</Where>
                <Parameters />
              </WhereClause>
              <SystemInstanceName>CORP.05.17.LEGAL.00</SystemInstanceName>
              <TargetEntityDefinitionName>TR_APURACAODEBITOSESPECIAIS</TargetEntityDefinitionName>
              <TargetSystemInstanceName>CORP.05.17.LEGAL.00</TargetSystemInstanceName>
              <WhereClauseParameters />
              <ParentEntityHandle>
                <NullableValue xsi:nil="true" />
              </ParentEntityHandle>
              <Criteria>
                <StartRowIndex>0</StartRowIndex>
                <MaximumRows>0</MaximumRows>
                <SortExpression />
                <GroupExpression />
                <Where />
                <LookupResultBehavior>Default</LookupResultBehavior>
                <CompanyFilterMode>CompanyAndBranch</CompanyFilterMode>
                <Parameters />
                <AutoGenerateParameters>false</AutoGenerateParameters>
              </Criteria>
              <GridEntityViewName />
              <TargetEntityHandle>
                <NullableValue xsi:nil="true" />
              </TargetEntityHandle>
              <TargetFormMode>View</TargetFormMode>
              <IsStructuredTable>false</IsStructuredTable>
              <StructuredFieldName />
              <StructuredTableParentNode />
              <UseTargetDefinitionName>false</UseTargetDefinitionName>
            </OutputDefinition>
          </Command>
        </Items>
      </Command>
    </Commands>
  </GridDefinition>
</ViewPortable>