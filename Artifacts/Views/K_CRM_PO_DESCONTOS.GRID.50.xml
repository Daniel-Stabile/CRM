<?xml version="1.0"?>
<ViewPortable xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Name>K_CRM_PO_DESCONTOS.GRID</Name>
  <Level>Cliente</Level>
  <EntityName>K_CRM_PO_DESCONTOS</EntityName>
  <Type>Grid</Type>
  <Version>13</Version>
  <GridDefinition entityDefinitionName="K_CRM_PO_DESCONTOS" name="K_CRM_PO_DESCONTOS.GRID" title="K_CRM_PO_DESCONTOS" inherited="true">
    <IsContextCached>false</IsContextCached>
    <Fields />
    <RecordReadOnly>false</RecordReadOnly>
    <TableReadOnly>false</TableReadOnly>
    <TransitoryVars />
    <BehaveAsUnstructuredGrid>false</BehaveAsUnstructuredGrid>
    <FieldDefinitions>
      <GridFieldDefinition xsi:type="GridAssociationFieldDefinition" key="OPORTUNIDADE" inherited="true">
        <visible xsi:nil="true" />
        <DataAccessLevel xsi:nil="true" />
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable>true</searchable>
        <visibility xsi:nil="true" />
        <lookupResultFields>CODIGO,PESSOA</lookupResultFields>
      </GridFieldDefinition>
      <GridFieldDefinition key="VERSAO">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable>true</searchable>
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition xsi:type="GridAssociationFieldDefinition" key="USUARIOSOLICITACAO">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable>true</searchable>
        <visibility>Visible</visibility>
        <CustomLookupPageUrl>
          <Key />
          <Value />
        </CustomLookupPageUrl>
      </GridFieldDefinition>
      <GridFieldDefinition xsi:type="GridAssociationFieldDefinition" key="USUARIOAPROVACAO">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable>true</searchable>
        <visibility>Visible</visibility>
        <CustomLookupPageUrl>
          <Key />
          <Value />
        </CustomLookupPageUrl>
      </GridFieldDefinition>
      <GridFieldDefinition title="Nivel Aprovação" key="NIVELAPROVACAO">
        <visible>true</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable>true</searchable>
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition key="STATUS">
        <visible>true</visible>
        <DataAccessLevel xsi:nil="true" />
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior xsi:nil="true" />
        <Width xsi:nil="true" />
        <searchable xsi:nil="true" />
        <visibility>Visible</visibility>
      </GridFieldDefinition>
      <GridFieldDefinition key="HANDLE">
        <visible>false</visible>
        <DataAccessLevel>Edit</DataAccessLevel>
        <Required xsi:nil="true" />
        <HasScriptEvent xsi:nil="true" />
        <footerBehavior>None</footerBehavior>
        <Width />
        <searchable>false</searchable>
        <visibility>ToScript</visibility>
      </GridFieldDefinition>
    </FieldDefinitions>
    <SubstituteViewName xsi:nil="true" />
    <SortFields />
    <Commands>
      <Command title="" key="New" inherited="true">
        <visible xsi:nil="true" />
        <showModal xsi:nil="true" />
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable xsi:nil="true" />
        <runInEditMode xsi:nil="true" />
        <context xsi:nil="true" />
      </Command>
      <Command title="" key="Edit" inherited="true">
        <visible>false</visible>
        <showModal>false</showModal>
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable>false</showInAllLevelsStructuredTable>
        <runInEditMode>false</runInEditMode>
        <context xsi:nil="true" />
        <OutputDefinition xsi:type="LocalLinkDefinition">
          <Url />
          <IsModalPage>false</IsModalPage>
          <IsModalNavigation>false</IsModalNavigation>
        </OutputDefinition>
      </Command>
      <Command title="" key="Save" inherited="true">
        <visible xsi:nil="true" />
        <showModal xsi:nil="true" />
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable xsi:nil="true" />
        <runInEditMode xsi:nil="true" />
        <context xsi:nil="true" />
      </Command>
      <Command title="" key="SaveNew" inherited="true">
        <visible xsi:nil="true" />
        <showModal xsi:nil="true" />
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable xsi:nil="true" />
        <runInEditMode xsi:nil="true" />
        <context xsi:nil="true" />
      </Command>
      <Command title="" key="Cancel" inherited="true">
        <visible xsi:nil="true" />
        <showModal xsi:nil="true" />
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable xsi:nil="true" />
        <runInEditMode xsi:nil="true" />
        <context xsi:nil="true" />
      </Command>
      <Command title="" key="Delete" inherited="true">
        <visible xsi:nil="true" />
        <showModal xsi:nil="true" />
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable xsi:nil="true" />
        <runInEditMode xsi:nil="true" />
        <context xsi:nil="true" />
      </Command>
      <Command title="" key="View" inherited="true">
        <visible xsi:nil="true" />
        <showModal xsi:nil="true" />
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable xsi:nil="true" />
        <runInEditMode xsi:nil="true" />
        <context xsi:nil="true" />
      </Command>
      <Command title="&amp;nbsp;" key="REDIRECT_DESCONTO">
        <visible>false</visible>
        <showModal>false</showModal>
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable>false</showInAllLevelsStructuredTable>
        <runInEditMode>false</runInEditMode>
        <context>Table</context>
        <OutputDefinition xsi:type="GridLinkDefinition">
          <Url>~/Pages/KCrmPoDescontos/Grid.aspx</Url>
          <IsModalPage>false</IsModalPage>
          <IsModalNavigation>false</IsModalNavigation>
          <WhereClause>
            <Where>A.OPORTUNIDADE IN (SELECT HANDLE FROM K_CRM_PESSOAOPORTUNIDADES WHERE FILIAL IN (SELECT HANDLE FROM FILIAIS WHERE K_EHREVENDA = 'N'))</Where>
            <Parameters />
          </WhereClause>
          <SystemInstanceName>CRM</SystemInstanceName>
          <TargetEntityDefinitionName>K_CRM_PO_DESCONTOS</TargetEntityDefinitionName>
          <TargetSystemInstanceName>CRM</TargetSystemInstanceName>
          <WhereClauseParameters />
          <ParentEntityHandle>
            <NullableValue xsi:nil="true" />
          </ParentEntityHandle>
          <DefaultFilterName />
        </OutputDefinition>
      </Command>
      <Command title="Verificar" image="fa fa-edit" color="green-turquoise" key="cmdEditarDesconto">
        <visible>true</visible>
        <showModal>false</showModal>
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable>false</showInAllLevelsStructuredTable>
        <runInEditMode>false</runInEditMode>
        <context>Record</context>
        <OutputDefinition xsi:type="FormLinkDefinition">
          <Url>~/Pages/KCrmPoDescontos/AvaliarDesconto.aspx</Url>
          <IsModalPage>false</IsModalPage>
          <IsModalNavigation>false</IsModalNavigation>
          <WhereClause>
            <Where>A.HANDLE = @CAMPO(HANDLE)</Where>
            <Parameters />
          </WhereClause>
          <SystemInstanceName>CRM</SystemInstanceName>
          <TargetEntityDefinitionName>K_CRM_PO_DESCONTOS</TargetEntityDefinitionName>
          <TargetSystemInstanceName>CRM</TargetSystemInstanceName>
          <WhereClauseParameters />
          <ParentEntityHandle>
            <NullableValue xsi:nil="true" />
          </ParentEntityHandle>
          <Criteria>
            <StartRowIndex>0</StartRowIndex>
            <MaximumRows>0</MaximumRows>
            <SortExpression />
            <GroupExpression />
            <Where />
            <LookupResultBehavior>Default</LookupResultBehavior>
            <CompanyFilterMode>CompanyAndBranch</CompanyFilterMode>
            <Parameters />
            <AutoGenerateParameters>false</AutoGenerateParameters>
          </Criteria>
          <GridEntityViewName />
          <TargetEntityHandle>
            <NullableValue xsi:nil="true" />
          </TargetEntityHandle>
          <TargetFormMode>Edit</TargetFormMode>
          <IsStructuredTable>false</IsStructuredTable>
          <StructuredFieldName />
          <StructuredTableParentNode />
          <UseTargetDefinitionName>false</UseTargetDefinitionName>
        </OutputDefinition>
      </Command>
      <Command title="&amp;nbsp;" key="REDIRECT_REVENDA">
        <visible>false</visible>
        <showModal>false</showModal>
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable>false</showInAllLevelsStructuredTable>
        <runInEditMode>false</runInEditMode>
        <context>Table</context>
        <OutputDefinition xsi:type="GridLinkDefinition">
          <Url>~/Pages/KCrmPoDescontos/Grid.aspx</Url>
          <IsModalPage>false</IsModalPage>
          <IsModalNavigation>false</IsModalNavigation>
          <WhereClause>
            <Where>A.OPORTUNIDADE IN (SELECT HANDLE FROM K_CRM_PESSOAOPORTUNIDADES WHERE FILIAL IN (SELECT HANDLE FROM FILIAIS WHERE K_EHREVENDA = 'S'))</Where>
            <Parameters />
          </WhereClause>
          <SystemInstanceName>CRM</SystemInstanceName>
          <TargetEntityDefinitionName>K_CRM_PO_DESCONTOS</TargetEntityDefinitionName>
          <TargetSystemInstanceName>CRM</TargetSystemInstanceName>
          <WhereClauseParameters />
          <ParentEntityHandle>
            <NullableValue xsi:nil="true" />
          </ParentEntityHandle>
          <DefaultFilterName />
        </OutputDefinition>
      </Command>
      <Command title="&amp;nbsp;" key="REDIRECT_EXECUTIVO">
        <visible>false</visible>
        <showModal>false</showModal>
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable>false</showInAllLevelsStructuredTable>
        <runInEditMode>false</runInEditMode>
        <context>Table</context>
        <OutputDefinition xsi:type="GridLinkDefinition">
          <Url>~/Pages/KCrmPoDescontos/Grid.aspx</Url>
          <IsModalPage>false</IsModalPage>
          <IsModalNavigation>false</IsModalNavigation>
          <WhereClause>
            <Where>A.OPORTUNIDADE IN (SELECT HANDLE FROM K_CRM_PESSOAOPORTUNIDADES WHERE RESPONSAVEL = @USUARIO)</Where>
            <Parameters />
          </WhereClause>
          <SystemInstanceName>CRM</SystemInstanceName>
          <TargetEntityDefinitionName>K_CRM_PO_DESCONTOS</TargetEntityDefinitionName>
          <TargetSystemInstanceName>CRM</TargetSystemInstanceName>
          <WhereClauseParameters />
          <ParentEntityHandle>
            <NullableValue xsi:nil="true" />
          </ParentEntityHandle>
          <DefaultFilterName />
        </OutputDefinition>
      </Command>
      <Command title="&amp;nbsp;" key="REDIRECT">
        <visible>false</visible>
        <showModal>false</showModal>
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable>false</showInAllLevelsStructuredTable>
        <runInEditMode>false</runInEditMode>
        <context>Table</context>
        <OutputDefinition xsi:type="GridLinkDefinition">
          <Url>~/Pages/KCrmPoDescontos/Grid.aspx</Url>
          <IsModalPage>false</IsModalPage>
          <IsModalNavigation>false</IsModalNavigation>
          <WhereClause>
            <Where>A.OPORTUNIDADE IN (SELECT HANDLE FROM K_CRM_PESSOAOPORTUNIDADES WHERE FILIAL = @FILIAL)</Where>
            <Parameters />
          </WhereClause>
          <SystemInstanceName>CRM</SystemInstanceName>
          <TargetEntityDefinitionName>K_CRM_PO_DESCONTOS</TargetEntityDefinitionName>
          <TargetSystemInstanceName>CRM</TargetSystemInstanceName>
          <WhereClauseParameters />
          <ParentEntityHandle>
            <NullableValue xsi:nil="true" />
          </ParentEntityHandle>
          <DefaultFilterName />
        </OutputDefinition>
      </Command>
      <Command title="CancelarSolicitacao" image="fa fa-times" color="yellow-casablanca" key="CmdCancelarSolicitacao">
        <visible>true</visible>
        <showModal>false</showModal>
        <modalSize xsi:nil="true" />
        <showInAllLevelsStructuredTable>false</showInAllLevelsStructuredTable>
        <runInEditMode>false</runInEditMode>
        <context>Record</context>
        <ProcessDefinition xsi:type="Function" functionName="CancelarSolicitacao" />
        <OutputDefinition xsi:type="LocalLinkDefinition">
          <Url />
          <IsModalPage>false</IsModalPage>
          <IsModalNavigation>false</IsModalNavigation>
        </OutputDefinition>
      </Command>
    </Commands>
  </GridDefinition>
</ViewPortable>