<?xml version="1.0"?>
<DataSourcePortable xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Identifier>CONSULTA_OCS_CONTRATOS_ENTRADA_NOTA_FISCAL</Identifier>
  <Name>Consulta ordens de compra e contratos para entrada de nota fiscal</Name>
  <Content><![CDATA[<DataSourceDefinition>
  <FromSql Alias="A" SelectCommand="SELECT&#xD;&#xA;       CONSULTA_OCS_CONTRATOS.HANDLE,&#xD;&#xA;       CONSULTA_OCS_CONTRATOS.FILIAL,&#xD;&#xA;       FILIAIS.NOME NOMEFILIAL,&#xD;&#xA;       CONSULTA_OCS_CONTRATOS.CODIGOTIPO, CONSULTA_OCS_CONTRATOS.NOMETIPO,&#xD;&#xA;       CONSULTA_OCS_CONTRATOS.NUMERO,&#xD;&#xA;       CONSULTA_OCS_CONTRATOS.NUMEROADITIVO,&#xD;&#xA;       CONSULTA_OCS_CONTRATOS.POSICAO,&#xD;&#xA;       CONSULTA_OCS_CONTRATOS.DATAENTREGA,&#xD;&#xA;       PD_PRODUTOS.CODIGOREFERENCIA,&#xD;&#xA;       PD_PRODUTOS.HANDLE PRODUTO,&#xD;&#xA;       PD_PRODUTOS.NOME NOMEPRODUTO,&#xD;&#xA;       PD_PRODUTOVARIACOESMESTRE.HANDLE VARIACAO,&#xD;&#xA;       PD_PRODUTOVARIACOESMESTRE.CONJUNTOVARIACOES NOMEVARIACAO,&#xD;&#xA;       CONSULTA_OCS_CONTRATOS.SALDO,&#xD;&#xA;       CONSULTA_OCS_CONTRATOS.SALDOVALOR,&#xD;&#xA;       GN_MOEDAS.NOME NOMEMOEDA,&#xD;&#xA;       CONSULTA_OCS_CONTRATOS.VALORUNITARIO,&#xD;&#xA;       CONSULTA_OCS_CONTRATOS.VALORDESCONTO,&#xD;&#xA;       CM_UNIDADESMEDIDA.ABREVIATURA UNIDADE,&#xD;&#xA;       NOMEMUNICIPIO,&#xD;&#xA;       0.0000 QTDE_RECEBIDA&#xD;&#xA;FROM&#xD;&#xA;(SELECT 1 AS CODIGOTIPO, 'Contrato' AS NOMETIPO,&#xD;&#xA;        CN_OBJETOENTREGAS.HANDLE,&#xD;&#xA;        CN_CONTRATOOBJETOS.FILIAL,&#xD;&#xA;        CN_CONTRATOS.NUMERO NUMERO,&#xD;&#xA;        CN_CONTRATOADITIVOS.NUMERO NUMEROADITIVO,&#xD;&#xA;        CN_CONTRATOOBJETOS.POSICAO,&#xD;&#xA;        CN_OBJETOENTREGAS.DATA AS DATAENTREGA,&#xD;&#xA;        CN_OBJETOENTREGAS.SALDO,&#xD;&#xA;        CN_OBJETOENTREGAS.SALDOVALOR,&#xD;&#xA;        CN_CONTRATOOBJETOS.MOEDA,&#xD;&#xA;        CN_CONTRATOOBJETOS.VALORUNITARIO,&#xD;&#xA;        'N/A' AS VALORDESCONTO,&#xD;&#xA;        CN_CONTRATOOBJETOS.PRODUTO,&#xD;&#xA;        CN_CONTRATOOBJETOS.VARIACAO,&#xD;&#xA;        CN_CONTRATOOBJETOS.UNIDADE,&#xD;&#xA;        MUNICIPIOS.NOME NOMEMUNICIPIO&#xD;&#xA;  FROM CN_OBJETOENTREGAS&#xD;&#xA;       JOIN CN_CONTRATOOBJETOS ON (CN_CONTRATOOBJETOS.HANDLE = CN_OBJETOENTREGAS.OBJETO)&#xD;&#xA;       JOIN CN_CONTRATOS ON (CN_CONTRATOS.HANDLE = CN_CONTRATOOBJETOS.CONTRATO)&#xD;&#xA;       JOIN MUNICIPIOS ON CN_CONTRATOOBJETOS.MUNICIPIO = MUNICIPIOS.HANDLE&#xD;&#xA;       LEFT JOIN CN_CONTRATOADITIVOS ON (CN_CONTRATOADITIVOS.HANDLE = CN_CONTRATOOBJETOS.ADITIVO)&#xD;&#xA; UNION ALL&#xD;&#xA; SELECT 2 AS CODIGOTIPO, 'Ordem de compra' AS NOMETIPO,&#xD;&#xA;        CP_ORDENSCOMPRAENTREGA.HANDLE,&#xD;&#xA;        CP_ORDENSCOMPRA.FILIAL,&#xD;&#xA;        @CONVERTER(CP_ORDENSCOMPRA.NUMERO, STRING) AS NUMERO,&#xD;&#xA;        'N/A' AS NUMEROADITIVO,&#xD;&#xA;        CP_ORDENSCOMPRAITENS.POSICAO,&#xD;&#xA;        CP_ORDENSCOMPRAENTREGA.DATA AS DATAENTREGA,&#xD;&#xA;        CP_ORDENSCOMPRAENTREGA.SALDO,&#xD;&#xA;        (CP_ORDENSCOMPRAENTREGA.SALDO * CP_ORDENSCOMPRAITENS.VALORUNITARIO) AS SALDOVALOR,&#xD;&#xA;        CP_ORDENSCOMPRAITENS.MOEDA,&#xD;&#xA;        CP_ORDENSCOMPRAITENS.VALORUNITARIO,&#xD;&#xA;        @CONVERTER(COALESCE(CP_ORDENSCOMPRAITENS.DESCONTOSVALOR, 0), STRING) AS VALORDESCONTO,&#xD;&#xA;        CP_ORDENSCOMPRAITENS.PRODUTO,&#xD;&#xA;        CP_ORDENSCOMPRAITENS.VARIACAO,&#xD;&#xA;        CP_ORDENSCOMPRAITENS.UNIDADE,&#xD;&#xA;       'N/A' NOMEMUNICIPIO&#xD;&#xA;  FROM CP_ORDENSCOMPRAENTREGA&#xD;&#xA;       JOIN CP_ORDENSCOMPRAITENS ON CP_ORDENSCOMPRAITENS.HANDLE = CP_ORDENSCOMPRAENTREGA.ORDENSCOMPRAITENS&#xD;&#xA;       JOIN CP_ORDENSCOMPRA ON CP_ORDENSCOMPRA.HANDLE = CP_ORDENSCOMPRAITENS.ORDEMCOMPRA&#xD;&#xA; UNION ALL&#xD;&#xA; SELECT 3 AS CODIGOTIPO, 'Apontamento' AS NOMETIPO, &#xD;&#xA;        CN_APONTAMENTOOBJETOS.HANDLE,&#xD;&#xA;        CN_CONTRATOOBJETOS.FILIAL,&#xD;&#xA;        CN_CONTRATOS.NUMERO NUMERO,&#xD;&#xA;        CN_CONTRATOADITIVOS.NUMERO NUMEROADITIVO,&#xD;&#xA;        CN_CONTRATOOBJETOS.POSICAO,&#xD;&#xA;        CN_OBJETOENTREGAS.DATA DATAENTREGA,&#xD;&#xA;        CN_APONTAMENTOOBJETOS.SALDO,&#xD;&#xA;        CN_APONTAMENTOOBJETOS.SALDOVALOR,&#xD;&#xA;        CN_CONTRATOOBJETOS.MOEDA,&#xD;&#xA;        CN_APONTAMENTOOBJETOS.VALORUNITARIO,&#xD;&#xA;        @CONVERTER(COALESCE(CN_APONTAMENTOOBJETOS.VALORDESCONTO, 0), STRING) AS VALORDESCONTO,&#xD;&#xA;        CN_CONTRATOOBJETOS.PRODUTO,&#xD;&#xA;        CN_CONTRATOOBJETOS.VARIACAO,&#xD;&#xA;        CN_CONTRATOOBJETOS.UNIDADE,&#xD;&#xA;        MUNICIPIOS.NOME NOMEMUNICIPIO&#xD;&#xA;  FROM CN_APONTAMENTOOBJETOS&#xD;&#xA;  LEFT OUTER JOIN CN_APONTAMENTOS ON (CN_APONTAMENTOS.HANDLE = CN_APONTAMENTOOBJETOS.APONTAMENTO)&#xD;&#xA;  LEFT OUTER JOIN CN_CONTRATOOBJETOS ON (CN_CONTRATOOBJETOS.HANDLE = CN_APONTAMENTOOBJETOS.OBJETO)&#xD;&#xA;  LEFT OUTER JOIN CN_OBJETOENTREGAS ON (CN_OBJETOENTREGAS.HANDLE = CN_APONTAMENTOOBJETOS.PREVISAO)&#xD;&#xA;  LEFT OUTER JOIN MUNICIPIOS ON (MUNICIPIOS.HANDLE = CN_APONTAMENTOOBJETOS.MUNICIPIO)&#xD;&#xA;  LEFT OUTER JOIN CN_CONTRATOS ON (CN_CONTRATOS.HANDLE = CN_APONTAMENTOS.CONTRATO)&#xD;&#xA;  LEFT OUTER JOIN CN_CONTRATOADITIVOS ON (CN_CONTRATOADITIVOS.HANDLE = CN_CONTRATOOBJETOS.ADITIVO)&#xD;&#xA; ) CONSULTA_OCS_CONTRATOS&#xD;&#xA;LEFT OUTER JOIN PD_PRODUTOS ON (PD_PRODUTOS.HANDLE = CONSULTA_OCS_CONTRATOS.PRODUTO)&#xD;&#xA;LEFT OUTER JOIN PD_PRODUTOVARIACOESMESTRE ON (PD_PRODUTOVARIACOESMESTRE.HANDLE = CONSULTA_OCS_CONTRATOS.VARIACAO)&#xD;&#xA;LEFT OUTER JOIN CM_UNIDADESMEDIDA ON (CM_UNIDADESMEDIDA.HANDLE = CONSULTA_OCS_CONTRATOS.UNIDADE)&#xD;&#xA;LEFT OUTER JOIN GN_MOEDAS ON (GN_MOEDAS.HANDLE = CONSULTA_OCS_CONTRATOS.MOEDA)&#xD;&#xA;JOIN FILIAIS ON FILIAIS.HANDLE = CONSULTA_OCS_CONTRATOS.FILIAL&#xD;&#xA;ORDER BY CONSULTA_OCS_CONTRATOS.DATAENTREGA" />
  <Fields>
    <Field Alias="HANDLE" From="A" Path="HANDLE" />
    <Field Alias="FILIAL" From="A" Path="FILIAL" />
    <Field Alias="NOMEFILIAL" From="A" Path="NOMEFILIAL" />
    <Field Alias="CODIGOTIPO" From="A" Path="CODIGOTIPO" />
    <Field Alias="NOMETIPO" From="A" Path="NOMETIPO" />
    <Field Alias="NUMERO" From="A" Path="NUMERO" />
    <Field Alias="NUMEROADITIVO" From="A" Path="NUMEROADITIVO" />
    <Field Alias="POSICAO" From="A" Path="POSICAO" />
    <Field Alias="DATAENTREGA" From="A" Path="DATAENTREGA" />
    <Field Alias="CODIGOREFERENCIA" From="A" Path="CODIGOREFERENCIA" />
    <Field Alias="PRODUTO" From="A" Path="PRODUTO" />
    <Field Alias="NOMEPRODUTO" From="A" Path="NOMEPRODUTO" />
    <Field Alias="VARIACAO" From="A" Path="VARIACAO" />
    <Field Alias="NOMEVARIACAO" From="A" Path="NOMEVARIACAO" />
    <Field Alias="SALDO" From="A" Path="SALDO" />
    <Field Alias="SALDOVALOR" From="A" Path="SALDOVALOR" />
    <Field Alias="NOMEMOEDA" From="A" Path="NOMEMOEDA" />
    <Field Alias="VALORUNITARIO" From="A" Path="VALORUNITARIO" />
    <Field Alias="VALORDESCONTO" From="A" Path="VALORDESCONTO" />
    <Field Alias="UNIDADE" From="A" Path="UNIDADE" />
    <Field Alias="NOMEMUNICIPIO" From="A" Path="NOMEMUNICIPIO" />
    <Field Alias="QTDE_RECEBIDA" From="A" Path="QTDE_RECEBIDA" />
  </Fields>
</DataSourceDefinition>
]]></Content>
  <Level>Benner</Level>
  <ContemDadosPessoaisLgpd>false</ContemDadosPessoaisLgpd>
  <ExibirNaApi>true</ExibirNaApi>
</DataSourcePortable>