<?xml version="1.0"?>
<DataSourcePortable xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Identifier>RETENCAOTERCEIROFORNECEDOR</Identifier>
  <Name>Retenção de terceiros fornecedor</Name>
  <Content><![CDATA[<DataSourceDefinition>
  <FromSql Alias="A" SelectCommand="SELECT B.FORNECEDOR HANDLE,&#xD;&#xA;       C.NOME FORNECEDOR,&#xD;&#xA;       C.CGCCPF,&#xD;&#xA;       C.TIPO,&#xD;&#xA;       0 PERCENTUAL,&#xD;&#xA;       TR_IMPOSTOS.HANDLE IMPOSTO,&#xD;&#xA;       TR_IMPOSTOS.NOME NOMEIMPOSTO,&#xD;&#xA;       TR_IMPOSTOS.CODIGO CODIGOIMPOSTO,&#xD;&#xA;       2000 VALORNOMINAL&#xD;&#xA;FROM GN_PESSOARETENCAOVIGENCIAS A&#xD;&#xA;  INNER JOIN GN_PESSOARETENCAOTERCEIROS B ON B.VIGENCIA = A.HANDLE&#xD;&#xA;  INNER JOIN GN_PESSOAS C ON C.HANDLE = B.FORNECEDOR&#xD;&#xA;  INNER JOIN TR_IMPOSTOS ON TR_IMPOSTOS.HANDLE = A.IMPOSTO&#xD;&#xA;WHERE A.PESSOA = 5&#xD;&#xA;  AND @DATA(23/05/2024) BETWEEN A.DATAINICIAL AND A.DATAFINAL&#xD;&#xA;  AND A.IMPOSTO =&#xD;&#xA;  (SELECT GN_PESSOARETENCAOVIGENCIAS.IMPOSTO&#xD;&#xA;    FROM FN_TIPODOCUMENTOIMPOSTOS&#xD;&#xA;    JOIN GN_PESSOARETENCAOVIGENCIAS ON GN_PESSOARETENCAOVIGENCIAS.IMPOSTO = FN_TIPODOCUMENTOIMPOSTOS.IMPOSTO&#xD;&#xA;    WHERE FN_TIPODOCUMENTOIMPOSTOS.TIPODOCUMENTO = 13 AND&#xD;&#xA;      GN_PESSOARETENCAOVIGENCIAS.PESSOA = 5 AND&#xD;&#xA;&#x9;  FN_TIPODOCUMENTOIMPOSTOS.IMPOSTO = 89 AND&#xD;&#xA;&#x9;  @DATA(23/05/2024) &gt;= GN_PESSOARETENCAOVIGENCIAS.DATAINICIAL AND&#xD;&#xA;&#x9;  (@DATA(23/05/2024) &lt;= GN_PESSOARETENCAOVIGENCIAS.DATAFINAL OR GN_PESSOARETENCAOVIGENCIAS.DATAFINAL IS NULL) AND&#xD;&#xA;&#x9;  ((@DATA(23/05/2024) &gt;= FN_TIPODOCUMENTOIMPOSTOS.DATAINICIAL AND&#xD;&#xA; &#x9;     (@DATA(23/05/2024) &lt;= FN_TIPODOCUMENTOIMPOSTOS.DATAFINAL OR FN_TIPODOCUMENTOIMPOSTOS.DATAFINAL IS NULL)) OR&#xD;&#xA;&#x9;   (@DATA(23/05/2024) &lt;= FN_TIPODOCUMENTOIMPOSTOS.DATAFINAL AND&#xD;&#xA;&#x9;     (@DATA(23/05/2024) &gt;= FN_TIPODOCUMENTOIMPOSTOS.DATAINICIAL OR FN_TIPODOCUMENTOIMPOSTOS.DATAINICIAL IS NULL)) OR&#xD;&#xA;&#x9;   (FN_TIPODOCUMENTOIMPOSTOS.DATAINICIAL IS NULL AND FN_TIPODOCUMENTOIMPOSTOS.DATAFINAL IS NULL)&#xD;&#xA;&#x9;  ))&#xD;&#xA;GROUP BY B.FORNECEDOR, C.NOME, C.CGCCPF, C.TIPO, TR_IMPOSTOS.HANDLE, TR_IMPOSTOS.NOME, TR_IMPOSTOS.CODIGO&#xD;&#xA;ORDER BY C.NOME" />
  <Fields>
    <Field Alias="HANDLE" From="A" Path="HANDLE" />
    <Field Alias="FORNECEDOR" From="A" Path="FORNECEDOR" />
    <Field Alias="CGCCPF" From="A" Path="CGCCPF" />
    <Field Alias="TIPO" From="A" Path="TIPO" />
    <Field Alias="PERCENTUAL" From="A" Path="PERCENTUAL" />
    <Field Alias="IMPOSTO" From="A" Path="IMPOSTO" />
    <Field Alias="NOMEIMPOSTO" From="A" Path="NOMEIMPOSTO" />
    <Field Alias="CODIGOIMPOSTO" From="A" Path="CODIGOIMPOSTO" />
    <Field Alias="VALORNOMINAL" From="A" Path="VALORNOMINAL" />
  </Fields>
</DataSourceDefinition>
]]></Content>
  <Level>Benner</Level>
  <ContemDadosPessoaisLgpd>false</ContemDadosPessoaisLgpd>
  <ExibirNaApi>true</ExibirNaApi>
</DataSourcePortable>