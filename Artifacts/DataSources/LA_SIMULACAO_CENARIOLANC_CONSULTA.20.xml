<?xml version="1.0"?>
<DataSourcePortable xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Identifier>LA_SIMULACAO_CENARIOLANC_CONSULTA</Identifier>
  <Name>Projeção</Name>
  <Content><![CDATA[<DataSourceDefinition>
  <FromSql Alias="A" SelectCommand="SELECT A.SIMULACAOCENARIO, A.COMPETENCIA, SUM(A.RESULTADO) RESULTADO, SUM(A.ADICAO) ADICAO, SUM(A.EXCLUSAO) EXCLUSAO, 0 BASE, A.ALIQUOTAIRPJ, A.ADICIONALIRPJ, A.ALIQUOTACSLL, A.ACUMULOPARAADICIONAL, 0 VALORCSLL, 0 VALORIRPJ&#xD;&#xA;FROM (&#xD;&#xA;SELECT LANC.COMPETENCIA, LANC.SIMULACAOCENARIO,&#xD;&#xA;CASE&#xD;&#xA;  WHEN ASSOC.TIPO = 1 THEN SUM(LANC.VALORPROJETADO)&#xD;&#xA;END RESULTADO,&#xD;&#xA;CASE&#xD;&#xA;  WHEN ASSOC.TIPO = 2 THEN SUM(LANC.VALORPROJETADO)&#xD;&#xA;END ADICAO,&#xD;&#xA;CASE&#xD;&#xA;  WHEN ASSOC.TIPO = 3 THEN SUM(LANC.VALORPROJETADO)&#xD;&#xA;END EXCLUSAO,&#xD;&#xA;PARAM.ALIQUOTAIRPJ,&#xD;&#xA;PARAM.ADICIONALIRPJ,&#xD;&#xA;PARAM.ALIQUOTACSLL,&#xD;&#xA;PARAM.ACUMULOPARAADICIONAL&#xD;&#xA;FROM LA_SIMULACAOCENARIOLANC LANC&#xD;&#xA;JOIN LA_SIMULACAOASSOCIACAO ASSOC ON ASSOC.HANDLE = LANC.ASSOCIACAO&#xD;&#xA;JOIN LA_SIMULACAOASSOCIACAOPARAM AP ON AP.ASSOCIACAO = ASSOC.HANDLE&#xD;&#xA;JOIN LA_SIMULACAOPARAMETRO PARAM ON PARAM.HANDLE = AP.PARAMETRO&#xD;&#xA;GROUP BY LANC.SIMULACAOCENARIO, LANC.COMPETENCIA, ASSOC.TIPO,&#xD;&#xA;PARAM.ALIQUOTAIRPJ,&#xD;&#xA;PARAM.ADICIONALIRPJ,&#xD;&#xA;PARAM.ALIQUOTACSLL,&#xD;&#xA;PARAM.ACUMULOPARAADICIONAL&#xD;&#xA;) A&#xD;&#xA;GROUP BY A.SIMULACAOCENARIO, A.COMPETENCIA, A.ALIQUOTAIRPJ, A.ADICIONALIRPJ, A.ALIQUOTACSLL, A.ACUMULOPARAADICIONAL&#xD;&#xA;ORDER BY COMPETENCIA&#xD;&#xA;" />
  <Fields>
    <Field Alias="SIMULACAOCENARIO" From="A" Path="SIMULACAOCENARIO" />
    <Field Alias="COMPETENCIA" From="A" Path="COMPETENCIA" />
    <Field Alias="RESULTADO" From="A" Path="RESULTADO" />
    <Field Alias="ADICAO" From="A" Path="ADICAO" />
    <Field Alias="EXCLUSAO" From="A" Path="EXCLUSAO" />
    <Field Alias="BASE" From="A" Path="BASE" />
    <Field Alias="ALIQUOTAIRPJ" From="A" Path="ALIQUOTAIRPJ" />
    <Field Alias="ADICIONALIRPJ" From="A" Path="ADICIONALIRPJ" />
    <Field Alias="ALIQUOTACSLL" From="A" Path="ALIQUOTACSLL" />
    <Field Alias="ACUMULOPARAADICIONAL" From="A" Path="ACUMULOPARAADICIONAL" />
    <Field Alias="VALORCSLL" From="A" Path="VALORCSLL" />
    <Field Alias="VALORIRPJ" From="A" Path="VALORIRPJ" />
  </Fields>
</DataSourceDefinition>
]]></Content>
  <Level>Benner</Level>
  <ContemDadosPessoaisLgpd>false</ContemDadosPessoaisLgpd>
  <ExibirNaApi>true</ExibirNaApi>
</DataSourcePortable>