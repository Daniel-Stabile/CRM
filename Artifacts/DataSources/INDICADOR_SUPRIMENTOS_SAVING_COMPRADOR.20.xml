<?xml version="1.0"?>
<DataSourcePortable xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Identifier>INDICADOR_SUPRIMENTOS_SAVING_COMPRADOR</Identifier>
  <Name>Indicadores suprimentos - Saving por comprador</Name>
  <Content><![CDATA[<DataSourceDefinition>
  <FromSql Alias="A" SelectCommand="SELECT  SUM(VALORESTIMADOREQ) VALORCOTACAO,&#xD;&#xA;    SUM(VALOROCITEM) VALOROC,&#xD;&#xA;    SUM((VALORESTIMADOREQ - VALOROCITEM)) VALORSAVING,&#xD;&#xA;    ((SUM(VALORESTIMADOREQ - VALOROCITEM)*100) / SUM(VALORESTIMADOREQ)) PERCENTUALSAVING,&#xD;&#xA;    Z_GRUPOUSUARIOS.APELIDO COMPRADOR&#xD;&#xA;FROM CP_DWINDICADORESREGISTROS&#xD;&#xA;    JOIN PD_PARAMETROSCOMPRASEMPRESA PARAMETRO ON CP_DWINDICADORESREGISTROS.EMPRESA = PARAMETRO.EMPRESA&#xD;&#xA;    JOIN Z_GRUPOUSUARIOS ON Z_GRUPOUSUARIOS.HANDLE = CP_DWINDICADORESREGISTROS.COMPRADOR&#xD;&#xA;        WHERE PARAMETRO.BASELINENEGOCIACAO = 1&#xD;&#xA;        AND CP_DWINDICADORESREGISTROS.VALORESTIMADOREQ &gt; 0&#xD;&#xA;        AND @CRITERIOSELECAO&#xD;&#xA;    GROUP BY Z_GRUPOUSUARIOS.APELIDO&#xD;&#xA;UNION ALL&#xD;&#xA;SELECT  SUM(VALORMAIORCOTACAORODADAFINAL)  VALORCOTACAO,&#xD;&#xA;    SUM(VALOROCITEM) VALOROC,&#xD;&#xA;    SUM(((VALORMAIORCOTACAORODADAFINAL) - VALOROCITEM)) VALORSAVING,&#xD;&#xA;    ((SUM(VALORMAIORCOTACAORODADAFINAL - VALOROCITEM)*100) / SUM(VALORMAIORCOTACAORODADAFINAL)) PERCENTUALSAVING,&#xD;&#xA;    Z_GRUPOUSUARIOS.APELIDO COMPRADOR&#xD;&#xA;FROM CP_DWINDICADORESREGISTROS&#xD;&#xA;    JOIN PD_PARAMETROSCOMPRASEMPRESA PARAMETRO ON CP_DWINDICADORESREGISTROS.EMPRESA = PARAMETRO.EMPRESA&#xD;&#xA;    JOIN Z_GRUPOUSUARIOS ON Z_GRUPOUSUARIOS.HANDLE = CP_DWINDICADORESREGISTROS.COMPRADOR&#xD;&#xA;        WHERE PARAMETRO.BASELINENEGOCIACAO = 2&#xD;&#xA;        AND CP_DWINDICADORESREGISTROS.VALORMAIORCOTACAORODADAFINAL &gt; 0&#xD;&#xA;        AND @CRITERIOSELECAO&#xD;&#xA;    GROUP BY Z_GRUPOUSUARIOS.APELIDO&#xD;&#xA;UNION ALL&#xD;&#xA;SELECT  SUM(VALORMAIORCOTACAORODADAINICIAL)  VALORCOTACAO,&#xD;&#xA;    SUM(VALOROCITEM) VALOROC,&#xD;&#xA;    SUM(((VALORMAIORCOTACAORODADAINICIAL) - VALOROCITEM)) VALORSAVING,&#xD;&#xA;    ((SUM(VALORMAIORCOTACAORODADAINICIAL - VALOROCITEM)*100) / SUM(VALORMAIORCOTACAORODADAINICIAL)) PERCENTUALSAVING,&#xD;&#xA;    Z_GRUPOUSUARIOS.APELIDO COMPRADOR&#xD;&#xA;FROM CP_DWINDICADORESREGISTROS&#xD;&#xA;    JOIN PD_PARAMETROSCOMPRASEMPRESA PARAMETRO ON CP_DWINDICADORESREGISTROS.EMPRESA = PARAMETRO.EMPRESA&#xD;&#xA;    JOIN Z_GRUPOUSUARIOS ON Z_GRUPOUSUARIOS.HANDLE = CP_DWINDICADORESREGISTROS.COMPRADOR&#xD;&#xA;        WHERE PARAMETRO.BASELINENEGOCIACAO = 3&#xD;&#xA;        AND CP_DWINDICADORESREGISTROS.VALORMAIORCOTACAORODADAINICIAL &gt; 0&#xD;&#xA;        AND @CRITERIOSELECAO&#xD;&#xA;    GROUP BY Z_GRUPOUSUARIOS.APELIDO&#xD;&#xA;UNION ALL&#xD;&#xA;SELECT  SUM(VALORMAIORCOTACAORODADAS)  VALORCOTACAO,&#xD;&#xA;    SUM(VALOROCITEM) VALOROC,&#xD;&#xA;    SUM(((VALORMAIORCOTACAORODADAS) - VALOROCITEM)) VALORSAVING,&#xD;&#xA;    ((SUM(VALORMAIORCOTACAORODADAS - VALOROCITEM)*100) / SUM(VALORMAIORCOTACAORODADAS)) PERCENTUALSAVING,&#xD;&#xA;    Z_GRUPOUSUARIOS.APELIDO COMPRADOR&#xD;&#xA;FROM CP_DWINDICADORESREGISTROS&#xD;&#xA;    JOIN PD_PARAMETROSCOMPRASEMPRESA PARAMETRO ON CP_DWINDICADORESREGISTROS.EMPRESA = PARAMETRO.EMPRESA&#xD;&#xA;    JOIN Z_GRUPOUSUARIOS ON Z_GRUPOUSUARIOS.HANDLE = CP_DWINDICADORESREGISTROS.COMPRADOR&#xD;&#xA;        WHERE PARAMETRO.BASELINENEGOCIACAO = 4&#xD;&#xA;        AND CP_DWINDICADORESREGISTROS.VALORMAIORCOTACAORODADAS &gt; 0&#xD;&#xA;        AND @CRITERIOSELECAO&#xD;&#xA;GROUP BY Z_GRUPOUSUARIOS.APELIDO&#xD;&#xA;UNION ALL&#xD;&#xA;SELECT  SUM(VALORMENORCOTACAORODADAINICIAL)  VALORCOTACAO,&#xD;&#xA;    SUM(VALOROCITEM) VALOROC,&#xD;&#xA;    SUM(((VALORMENORCOTACAORODADAINICIAL) - VALOROCITEM)) VALORSAVING,&#xD;&#xA;    ((SUM(VALORMENORCOTACAORODADAINICIAL - VALOROCITEM)*100) / SUM(VALORMENORCOTACAORODADAINICIAL)) PERCENTUALSAVING,&#xD;&#xA;    Z_GRUPOUSUARIOS.APELIDO COMPRADOR&#xD;&#xA;FROM CP_DWINDICADORESREGISTROS&#xD;&#xA;    JOIN PD_PARAMETROSCOMPRASEMPRESA PARAMETRO ON CP_DWINDICADORESREGISTROS.EMPRESA = PARAMETRO.EMPRESA&#xD;&#xA;    JOIN Z_GRUPOUSUARIOS ON Z_GRUPOUSUARIOS.HANDLE = CP_DWINDICADORESREGISTROS.COMPRADOR&#xD;&#xA;        WHERE PARAMETRO.BASELINENEGOCIACAO = 5&#xD;&#xA;        AND CP_DWINDICADORESREGISTROS.VALORMENORCOTACAORODADAINICIAL &gt; 0&#xD;&#xA;        AND @CRITERIOSELECAO&#xD;&#xA;    GROUP BY Z_GRUPOUSUARIOS.APELIDO" />
  <Fields>
    <DecimalField Alias="VALORCOTACAO" From="A" Path="VALORCOTACAO" FieldDecimalsFormat="0" />
    <DecimalField Alias="VALOROC" From="A" Path="VALOROC" FieldDecimalsFormat="0" />
    <DecimalField Alias="VALORSAVING" From="A" Path="VALORSAVING" FieldDecimalsFormat="0" />
    <DecimalField Alias="PERCENTUALSAVING" From="A" Path="PERCENTUALSAVING" FieldDecimalsFormat="1" />
    <Field Alias="COMPRADOR" From="A" Path="COMPRADOR" />
  </Fields>
</DataSourceDefinition>
]]></Content>
  <Level>Benner</Level>
  <ContemDadosPessoaisLgpd>false</ContemDadosPessoaisLgpd>
  <ExibirNaApi>true</ExibirNaApi>
</DataSourcePortable>