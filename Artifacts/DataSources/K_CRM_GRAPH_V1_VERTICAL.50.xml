<?xml version="1.0"?>
<DataSourcePortable xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Identifier>K_CRM_GRAPH_V1_VERTICAL</Identifier>
  <Name>CRM_GRAPH_V1_VERTICAL</Name>
  <Content><![CDATA[<DataSourceDefinition>
  <FromSql Alias="A" SelectCommand="SELECT&#xD;&#xA;     CAST(CAST(LEFT(DATENAME(MONTH,A.DATAFECHAMENTO),3) AS VARCHAR) +'/'+ CAST(DATENAME(YEAR,A.DATAFECHAMENTO) AS VARCHAR) AS VARCHAR) MES,&#xD;&#xA;     ROUND(COALESCE(SUM(RECURSOS_HUMANOS.VALOR),0),2) RECURSOS_HUMANOS,&#xD;&#xA;     ROUND(COALESCE(SUM(PRODUTO_INFOMED.VALOR),0),2) PRODUTO_INFOMED,&#xD;&#xA;     ROUND(COALESCE(SUM(BPO.VALOR),0),2) BPO,&#xD;&#xA;     ROUND(COALESCE(SUM(JURIDICO.VALOR),0),2) JURIDICO,&#xD;&#xA;     ROUND(COALESCE(SUM(LOGISTICA.VALOR),0),2) LOGISTICA,&#xD;&#xA;     ROUND(COALESCE(SUM(TURISMO.VALOR),0),2) TURISMO,&#xD;&#xA;     ROUND(COALESCE(SUM(SAUDE.VALOR),0),2) SAUDE,&#xD;&#xA;     ROUND(COALESCE(SUM(ERP.VALOR),0),2) ERP,&#xD;&#xA;     ROUND(COALESCE(SUM(OUTRAS.VALOR),0),2) OUTRAS,&#xD;&#xA;     ROUND(COALESCE(SUM(EAD.VALOR),0),2) EAD,&#xD;&#xA;     ROUND(COALESCE(SUM(JUR_LIVRE.VALOR),0),2) JUR_LIVRE,&#xD;&#xA;     ROUND(COALESCE(SUM(HOSP_LIVRE.VALOR),0),2) HOSP_LIVRE&#xD;&#xA;FROM K_CRM_PESSOAOPORTUNIDADES A&#xD;&#xA;JOIN K_CRM_PESSOAOPORTUNIDADESPROD D ON D.OPORTUNIDADE = A.HANDLE&#xD;&#xA;JOIN K_CRM_FASESOPORTUNIDADE B ON A.STATUSOPORTUNIDADE = B.HANDLE&#xD;&#xA;JOIN K_CRM_PESSOAOPORTUNIDADESITENS C ON C.PRODUTO = D.HANDLE&#xD;&#xA;LEFT JOIN (SELECT&#xD;&#xA;        AB.VALORFINAL VALOR, AA.HANDLE&#xD;&#xA;     FROM K_CRM_PESSOAOPORTUNIDADESPROD AA&#xD;&#xA;     JOIN K_CRM_PESSOAOPORTUNIDADESITENS AB ON AA.HANDLE = AB.PRODUTO&#xD;&#xA;     WHERE AA.PRODUTO = 12&#xD;&#xA;    ) RECURSOS_HUMANOS ON RECURSOS_HUMANOS.HANDLE = D.HANDLE&#xD;&#xA;LEFT JOIN (SELECT&#xD;&#xA;        AB.VALORFINAL VALOR, AA.HANDLE&#xD;&#xA;     FROM K_CRM_PESSOAOPORTUNIDADESPROD AA&#xD;&#xA;     JOIN K_CRM_PESSOAOPORTUNIDADESITENS AB ON AA.HANDLE = AB.PRODUTO&#xD;&#xA;     WHERE AA.PRODUTO = 15&#xD;&#xA;    ) PRODUTO_INFOMED ON PRODUTO_INFOMED.HANDLE = D.HANDLE&#xD;&#xA;LEFT JOIN (SELECT&#xD;&#xA;        AB.VALORFINAL VALOR, AA.HANDLE&#xD;&#xA;     FROM K_CRM_PESSOAOPORTUNIDADESPROD AA&#xD;&#xA;     JOIN K_CRM_PESSOAOPORTUNIDADESITENS AB ON AA.HANDLE = AB.PRODUTO&#xD;&#xA;     WHERE AA.PRODUTO = 28&#xD;&#xA;    ) BPO ON BPO.HANDLE = D.HANDLE&#xD;&#xA;LEFT JOIN (SELECT&#xD;&#xA;        AB.VALORFINAL VALOR, AA.HANDLE&#xD;&#xA;     FROM K_CRM_PESSOAOPORTUNIDADESPROD AA&#xD;&#xA;     JOIN K_CRM_PESSOAOPORTUNIDADESITENS AB ON AA.HANDLE = AB.PRODUTO&#xD;&#xA;     WHERE AA.PRODUTO = 29&#xD;&#xA;    ) JURIDICO ON JURIDICO.HANDLE = D.HANDLE&#xD;&#xA;LEFT JOIN (SELECT&#xD;&#xA;        AB.VALORFINAL VALOR, AA.HANDLE&#xD;&#xA;     FROM K_CRM_PESSOAOPORTUNIDADESPROD AA&#xD;&#xA;     JOIN K_CRM_PESSOAOPORTUNIDADESITENS AB ON AA.HANDLE = AB.PRODUTO&#xD;&#xA;     WHERE AA.PRODUTO = 31&#xD;&#xA;    ) LOGISTICA ON LOGISTICA.HANDLE = D.HANDLE&#xD;&#xA;LEFT JOIN (SELECT&#xD;&#xA;        AB.VALORFINAL VALOR, AA.HANDLE&#xD;&#xA;     FROM K_CRM_PESSOAOPORTUNIDADESPROD AA&#xD;&#xA;     JOIN K_CRM_PESSOAOPORTUNIDADESITENS AB ON AA.HANDLE = AB.PRODUTO&#xD;&#xA;     WHERE AA.PRODUTO = 33&#xD;&#xA;    ) TURISMO ON TURISMO.HANDLE = D.HANDLE&#xD;&#xA;LEFT JOIN (SELECT&#xD;&#xA;        AB.VALORFINAL VALOR, AA.HANDLE&#xD;&#xA;     FROM K_CRM_PESSOAOPORTUNIDADESPROD AA&#xD;&#xA;     JOIN K_CRM_PESSOAOPORTUNIDADESITENS AB ON AA.HANDLE = AB.PRODUTO&#xD;&#xA;     WHERE AA.PRODUTO = 34&#xD;&#xA;    ) SAUDE ON SAUDE.HANDLE = D.HANDLE&#xD;&#xA;LEFT JOIN (SELECT&#xD;&#xA;        AB.VALORFINAL VALOR, AA.HANDLE&#xD;&#xA;     FROM K_CRM_PESSOAOPORTUNIDADESPROD AA&#xD;&#xA;     JOIN K_CRM_PESSOAOPORTUNIDADESITENS AB ON AA.HANDLE = AB.PRODUTO&#xD;&#xA;     WHERE AA.PRODUTO = 37&#xD;&#xA;    ) ERP ON ERP.HANDLE = D.HANDLE&#xD;&#xA;LEFT JOIN (SELECT&#xD;&#xA;        AB.VALORFINAL VALOR, AA.HANDLE&#xD;&#xA;     FROM K_CRM_PESSOAOPORTUNIDADESPROD AA&#xD;&#xA;     JOIN K_CRM_PESSOAOPORTUNIDADESITENS AB ON AA.HANDLE = AB.PRODUTO&#xD;&#xA;     WHERE AA.PRODUTO = 39&#xD;&#xA;    ) OUTRAS ON OUTRAS.HANDLE = D.HANDLE&#xD;&#xA;LEFT JOIN (SELECT&#xD;&#xA;        AB.VALORFINAL VALOR, AA.HANDLE&#xD;&#xA;     FROM K_CRM_PESSOAOPORTUNIDADESPROD AA&#xD;&#xA;     JOIN K_CRM_PESSOAOPORTUNIDADESITENS AB ON AA.HANDLE = AB.PRODUTO&#xD;&#xA;     WHERE AA.PRODUTO = 42&#xD;&#xA;    ) EAD ON EAD.HANDLE = D.HANDLE&#xD;&#xA;LEFT JOIN (SELECT&#xD;&#xA;        AB.VALORFINAL VALOR, AA.HANDLE&#xD;&#xA;     FROM K_CRM_PESSOAOPORTUNIDADESPROD AA&#xD;&#xA;     JOIN K_CRM_PESSOAOPORTUNIDADESITENS AB ON AA.HANDLE = AB.PRODUTO&#xD;&#xA;     WHERE AA.PRODUTO = 43&#xD;&#xA;    ) JUR_LIVRE ON JUR_LIVRE.HANDLE = D.HANDLE&#xD;&#xA;LEFT JOIN (SELECT&#xD;&#xA;        AB.VALORFINAL VALOR, AA.HANDLE&#xD;&#xA;     FROM K_CRM_PESSOAOPORTUNIDADESPROD AA&#xD;&#xA;     JOIN K_CRM_PESSOAOPORTUNIDADESITENS AB ON AA.HANDLE = AB.PRODUTO&#xD;&#xA;     WHERE AA.PRODUTO = 44&#xD;&#xA;    ) HOSP_LIVRE ON HOSP_LIVRE.HANDLE = D.HANDLE&#xD;&#xA;WHERE A.STATUS IN (1,2,14)&#xD;&#xA;AND @CRITERIOSELECAO&#xD;&#xA;GROUP BY YEAR(A.DATAFECHAMENTO),&#xD;&#xA;MONTH(A.DATAFECHAMENTO),&#xD;&#xA;DATENAME(MONTH,A.DATAFECHAMENTO),&#xD;&#xA;DATENAME(YEAR,A.DATAFECHAMENTO)&#xD;&#xA;" />
  <Fields>
    <Field Alias="MES" From="A" Path="MES" />
    <DecimalField Alias="RECURSOS_HUMANOS" From="A" Path="RECURSOS_HUMANOS" FieldDecimalsFormat="0" />
    <DecimalField Alias="PRODUTO_INFOMED" From="A" Path="PRODUTO_INFOMED" FieldDecimalsFormat="0" />
    <DecimalField Alias="BPO" From="A" Path="BPO" FieldDecimalsFormat="0" />
    <DecimalField Alias="JURIDICO" From="A" Path="JURIDICO" FieldDecimalsFormat="0" />
    <DecimalField Alias="LOGISTICA" From="A" Path="LOGISTICA" FieldDecimalsFormat="0" />
    <DecimalField Alias="TURISMO" From="A" Path="TURISMO" FieldDecimalsFormat="0" />
    <DecimalField Alias="SAUDE" From="A" Path="SAUDE" FieldDecimalsFormat="0" />
    <DecimalField Alias="ERP" From="A" Path="ERP" FieldDecimalsFormat="0" />
    <DecimalField Alias="OUTRAS" From="A" Path="OUTRAS" FieldDecimalsFormat="0" />
    <DecimalField Alias="EAD" From="A" Path="EAD" FieldDecimalsFormat="0" />
    <DecimalField Alias="JUR_LIVRE" From="A" Path="JUR_LIVRE" FieldDecimalsFormat="0" />
    <DecimalField Alias="HOSP_LIVRE" From="A" Path="HOSP_LIVRE" FieldDecimalsFormat="0" />
  </Fields>
</DataSourceDefinition>]]></Content>
  <Level>Cliente</Level>
  <ContemDadosPessoaisLgpd>false</ContemDadosPessoaisLgpd>
  <ExibirNaApi>true</ExibirNaApi>
</DataSourcePortable>